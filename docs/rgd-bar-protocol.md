# –ü—Ä–æ—Ç–æ–∫–æ–ª RGD BAR

## –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ

### Endpoint

```
wss://bot.rgd.chat/bar
```

### –¢—Ä–∞–Ω—Å–ø–æ—Ä—Ç

- **–ü—Ä–æ—Ç–æ–∫–æ–ª**: WebSocket
- **–§–æ—Ä–º–∞—Ç –¥–∞–Ω–Ω—ã—Ö**: JSON

### –ì–æ–ª–æ—Å–æ–≤—ã–µ —Å–æ–±—ã—Ç–∏—è

–î–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–æ–±—ã—Ç–∏–π `member_speaking` (–∫–æ–≥–¥–∞ —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥–æ–≤–æ—Ä—è—Ç –≤ –≥–æ–ª–æ—Å–æ–≤—ã—Ö –∫–∞–Ω–∞–ª–∞—Ö), –±–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É.

**–ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –±–æ—Ç–∞ –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É:**

1. –ó–∞–π–¥–∏—Ç–µ –≤ –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª –Ω–∞ Discord —Å–µ—Ä–≤–µ—Ä–µ
2. –í—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—É `/bar-join` –≤ –ª—é–±–æ–º —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ
3. –ë–æ—Ç –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—Å—è –∫ –≤–∞—à–µ–º—É –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É –∏ –Ω–∞—á–Ω—ë—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å —Å–æ–±—ã—Ç–∏—è `member_speaking`

## –§–æ—Ä–º–∞—Ç —Å–æ–æ–±—â–µ–Ω–∏–π

–í—Å–µ —Å–æ–æ–±—â–µ–Ω–∏—è –ø–µ—Ä–µ–¥–∞—é—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON —Å–æ —Å–ª–µ–¥—É—é—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:

```json
{
  "event": "–Ω–∞–∑–≤–∞–Ω–∏–µ_—Å–æ–±—ã—Ç–∏—è",
  "data": {
    /* –ø–æ–ª–µ–∑–Ω–∞—è –Ω–∞–≥—Ä—É–∑–∫–∞ */
  },
  "ts": 1 /* –∫–æ–≥–¥–∞ —Å–æ–±—ã—Ç–∏–µ —Å—Ä–∞–±–æ—Ç–∞–ª–æ */
}
```

## –°–æ–±—ã—Ç–∏—è –æ—Ç —Å–µ—Ä–≤–µ—Ä–∞ –∫ –∫–ª–∏–µ–Ω—Ç—É

### –ù–∞—á–∞–ª—å–Ω–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

–ü—Ä–∏ —É—Å–ø–µ—à–Ω–æ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–∏ —Å–µ—Ä–≤–µ—Ä –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É –ø–æ—Å–ª–µ–¥–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 50, –Ω–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–∂–µ—Ç –º–µ–Ω—è—Ç—å—Å—è). –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –∫–ª–∏–µ–Ω—Ç—É —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö.

–°–æ–±—ã—Ç–∏—è –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –≤ —Ö—Ä–æ–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–æ–º –ø–æ—Ä—è–¥–∫–µ (–æ—Ç —Å—Ç–∞—Ä—ã—Ö –∫ –Ω–æ–≤—ã–º), –Ω–∞—á–∏–Ω–∞—è —Å —Å–æ–±—ã—Ç–∏—è `connected`.

---

### `connected`

–û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Å—Ä–∞–∑—É –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è. –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ä–≤–µ—Ä–∞—Ö –∏ –∫–∞–Ω–∞–ª–∞—Ö.

**Payload:**

```json
{
  "event": "connected",
  "data": {
    "guilds": [
      {
        "id": "123456789",
        "name": "–ú–æ–π —Å–µ—Ä–≤–µ—Ä",
        "icon_url": "https://cdn.discord.com/icons/123456789/abc123.png",
        "channels": [
          {
            "id": "987654321",
            "name": "–æ–±—â–∏–π",
            "type": "text"
          },
          {
            "id": "987654322",
            "name": "–ì–æ–ª–æ—Å–æ–≤–æ–π",
            "type": "voice"
          }
        ]
      }
    ]
  },
  "ts": 1700000000000
}
```

**–ü–æ–ª—è:**

- `guilds[]` - –º–∞—Å—Å–∏–≤ Discord —Å–µ—Ä–≤–µ—Ä–æ–≤
  - `id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
  - `name` (string) - –Ω–∞–∑–≤–∞–Ω–∏–µ —Å–µ—Ä–≤–µ—Ä–∞
  - `icon_url` (string) - URL –∏–∫–æ–Ω–∫–∏ —Å–µ—Ä–≤–µ—Ä–∞
  - `channels[]` - –º–∞—Å—Å–∏–≤ –∫–∞–Ω–∞–ª–æ–≤
    - `id` (string) - ID –∫–∞–Ω–∞–ª–∞
    - `name` (string) - –Ω–∞–∑–≤–∞–Ω–∏–µ –∫–∞–Ω–∞–ª–∞
    - `type` (string) - —Ç–∏–ø –∫–∞–Ω–∞–ª–∞: `"text"`, `"voice"`, `"category"`, `"thread"`

---

### `member_start_typing`

–£—á–∞—Å—Ç–Ω–∏–∫ –Ω–∞—á–∞–ª –ø–µ—á–∞—Ç–∞—Ç—å —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ.

**Payload:**

```json
{
  "event": "member_start_typing",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654321",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    }
  },
  "ts": 1700000001234
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–µ

---

### `message_create`

–ù–æ–≤–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–æ –≤ —Ç–µ–∫—Å—Ç–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ.

**Payload:**

```json
{
  "event": "message_create",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654321",
    "message": {
      "id": "999888777",
      "content": "–ü—Ä–∏–≤–µ—Ç, –º–∏—Ä!"
    },
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    }
  },
  "ts": 1700000002456
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –∫–∞–Ω–∞–ª–∞
- `message` (object) - –¥–∞–Ω–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è
  - `id` (string) - ID —Å–æ–æ–±—â–µ–Ω–∏—è
  - `content` (string) - —Ç–µ–∫—Å—Ç —Å–æ–æ–±—â–µ–Ω–∏—è
- `member` (BarMember) - –∞–≤—Ç–æ—Ä —Å–æ–æ–±—â–µ–Ω–∏—è

---

### `member_join_voice`

–£—á–∞—Å—Ç–Ω–∏–∫ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏–ª—Å—è –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É.

**Payload:**

```json
{
  "event": "member_join_voice",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654322",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    }
  },
  "ts": 1700000003789
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫

---

### `member_leave_voice`

–£—á–∞—Å—Ç–Ω–∏–∫ –ø–æ–∫–∏–Ω—É–ª –≥–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª.

**Payload:**

```json
{
  "event": "member_leave_voice",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654322",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    }
  },
  "ts": 1700000004012
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫

---

### `member_move_voice`

–£—á–∞—Å—Ç–Ω–∏–∫ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–ª—Å—è –º–µ–∂–¥—É –≥–æ–ª–æ—Å–æ–≤—ã–º–∏ –∫–∞–Ω–∞–ª–∞–º–∏.

**Payload:**

```json
{
  "event": "member_move_voice",
  "data": {
    "guild_id": "123456789",
    "old_channel_id": "987654322",
    "new_channel_id": "987654323",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    }
  },
  "ts": 1700000005345
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `old_channel_id` (string) - ID –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∫–∞–Ω–∞–ª–∞
- `new_channel_id` (string) - ID –Ω–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫

---

### `voice_state_update`

–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è —É—á–∞—Å—Ç–Ω–∏–∫–∞ (mute/deafen).

**Payload:**

```json
{
  "event": "voice_state_update",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654322",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    },
    "self_mute": false,
    "self_deaf": true
  },
  "ts": 1700000006678
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫
- `self_mute` (boolean) - –º–∏–∫—Ä–æ—Ñ–æ–Ω –≤—ã–∫–ª—é—á–µ–Ω
- `self_deaf` (boolean) - –∑–≤—É–∫ –≤—ã–∫–ª—é—á–µ–Ω

---

### `member_reaction_add`

–£—á–∞—Å—Ç–Ω–∏–∫ –¥–æ–±–∞–≤–∏–ª —Ä–µ–∞–∫—Ü–∏—é –∫ —Å–æ–æ–±—â–µ–Ω–∏—é.

**Payload:**

```json
{
  "event": "member_reaction_add",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654321",
    "message_id": "999888777",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    },
    "emoji": {
      "name": "üëç",
      "url": "https://cdn.discord.com/emojis/123456789.png"
    }
  },
  "ts": 1700000007901
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –∫–∞–Ω–∞–ª–∞
- `message_id` (string) - ID —Å–æ–æ–±—â–µ–Ω–∏—è
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫
- `emoji` (object) - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —ç–º–æ–¥–∑–∏
  - `name` (string) - –Ω–∞–∑–≤–∞–Ω–∏–µ/—Å–∏–º–≤–æ–ª —ç–º–æ–¥–∑–∏
  - `url` (string) - URL –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ —ç–º–æ–¥–∑–∏ (–µ—Å–ª–∏ –ø—Ä–∏–º–µ–Ω–∏–º–æ)

---

### `member_speaking`

–£—á–∞—Å—Ç–Ω–∏–∫ –Ω–∞—á–∞–ª –∏–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª –≥–æ–≤–æ—Ä–∏—Ç—å –≤ –≥–æ–ª–æ—Å–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ.

> **‚ö†Ô∏è –í–∞–∂–Ω–æ**: –≠—Ç–æ —Å–æ–±—ã—Ç–∏–µ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –±–æ—Ç –ø–æ–¥–∫–ª—é—á–µ–Ω –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É. –î–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/bar-join` –≤ Discord –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ.

**Payload:**

```json
{
  "event": "member_speaking",
  "data": {
    "guild_id": "123456789",
    "channel_id": "987654322",
    "member": {
      "id": "111222333",
      "username": "–ò–≤–∞–Ω",
      "avatar_url": "https://cdn.discord.com/avatars/111222333/def456.png"
    },
    "speaking": true
  },
  "ts": 1700000008234
}
```

**–ü–æ–ª—è:**

- `guild_id` (string) - ID —Å–µ—Ä–≤–µ—Ä–∞
- `channel_id` (string) - ID –≥–æ–ª–æ—Å–æ–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
- `member` (BarMember) - —É—á–∞—Å—Ç–Ω–∏–∫
- `speaking` (boolean) - `true` –µ—Å–ª–∏ –Ω–∞—á–∞–ª –≥–æ–≤–æ—Ä–∏—Ç—å, `false` –µ—Å–ª–∏ –∑–∞–∫–æ–Ω—á–∏–ª

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:**

- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –Ω–∞—Ö–æ–¥–∏—Ç—å—Å—è –≤ —Ç–æ–º –∂–µ –≥–æ–ª–æ—Å–æ–≤–æ–º –∫–∞–Ω–∞–ª–µ, —á—Ç–æ –∏ —É—á–∞—Å—Ç–Ω–∏–∫
- –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–º–∞–Ω–¥—É `/bar-join` –≤ Discord –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –±–æ—Ç–∞ –∫ –≥–æ–ª–æ—Å–æ–≤–æ–º—É –∫–∞–Ω–∞–ª—É

---

## –°–æ–±—ã—Ç–∏—è –æ—Ç –∫–ª–∏–µ–Ω—Ç–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É

### `ping`

Keepalive —Å–æ–æ–±—â–µ–Ω–∏–µ –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è.

**Payload:**

```json
{
  "event": "ping"
}
```

**–û—Ç–≤–µ—Ç:** –°–µ—Ä–≤–µ—Ä –Ω–µ –æ—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ ping —Å–æ–æ–±—â–µ–Ω–∏—è, –Ω–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏—Ö –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –∫–ª–∏–µ–Ω—Ç–∞.

---

## –û–±—â–∏–µ —Ç–∏–ø—ã –¥–∞–Ω–Ω—ã—Ö

### BarMember

–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± —É—á–∞—Å—Ç–Ω–∏–∫–µ —Å–µ—Ä–≤–µ—Ä–∞.

```typescript
{
  "id": string,           // Discord ID —É—á–∞—Å—Ç–Ω–∏–∫–∞
  "username": string,     // –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
  "avatar_url": string    // URL –∞–≤–∞—Ç–∞—Ä–∞
}
```

### ChannelType

–¢–∏–ø—ã –∫–∞–Ω–∞–ª–æ–≤ Discord:

| –ó–Ω–∞—á–µ–Ω–∏–µ   | –û–ø–∏—Å–∞–Ω–∏–µ        |
| ---------- | --------------- |
| `text`     | –¢–µ–∫—Å—Ç–æ–≤—ã–π –∫–∞–Ω–∞–ª |
| `voice`    | –ì–æ–ª–æ—Å–æ–≤–æ–π –∫–∞–Ω–∞–ª |
| `category` | –ö–∞—Ç–µ–≥–æ—Ä–∏—è       |
| `thread`   | –¢—Ä–µ–¥ (–≤–µ—Ç–∫–∞)    |

---
